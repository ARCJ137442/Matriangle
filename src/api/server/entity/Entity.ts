import { typeID } from '../registry/IWorldRegistry'

/**
 * @author ARCJ137442
 * @class ä¸€åˆ‡ã€Œä¸–ç•Œå†…å®ä½“ã€çš„æŠ½è±¡åŸºç±»ï¼Œæ‹¥æœ‰ã€Œæ¿€æ´»ã€å±æ€§
 * @abstract ã€20230913 23:21:10ã€‘ä½¿ç”¨æŠ½è±¡ç±»ï¼Œä½†å› å…¶ç‰¹æ®Šæ€§ä¸ä½¿ç”¨Abstractå‰ç¼€
 *
 * TODO: å¢åŠ åºåˆ—åŒ–æ–¹æ¡ˆ
 */
export default abstract class Entity {
	// !ã€2023-10-01 16:14:36ã€‘ç°åœ¨ä¸å†å› ã€Œéœ€è¦è·å–å®ä½“ç±»å‹ã€è€Œå¼•å…¥`NativeEntityTypes`ï¼šè¿™ä¸ªåº”è¯¥åœ¨æœ€åæ‰æä¾›ã€Œå®ä½“ç±»-idã€çš„é“¾æ¥ï¼ˆå¹¶ä¸”æ˜¯ç»™æ¯ä½“æä¾›çš„ï¼‰

	/**
	 * å†…éƒ¨å­˜å‚¨ã€Œå®ä½“æ˜¯å¦æ¿€æ´»ã€çš„ä¿¡æ¯
	 */
	protected _isActive: boolean = false
	/**
	 * è¯»å†™ã€Œå®ä½“æ˜¯å¦æ¿€æ´»ã€
	 * * ç”¨äºåœ¨äº‹ä»¶åˆ†æ´¾æ—¶ã€Œæ˜¯å¦å¿½ç•¥ã€ï¼ˆæ¿€æ´»â‡”éœ€è¦åˆ†æ´¾ï¼‰
	 *
	 * ! æ³¨æ„ï¼šä¸ã€Œæ´»è·ƒå®ä½“ã€çš„æ¦‚å¿µä¸åŒ
	 */
	public get isActive(): boolean {
		return this._isActive
	}
	public set isActive(value: boolean) {
		this._isActive = value
	}

	// å¯¹æ¥JS API //
	public toString(): string {
		return `[Entity ${this._id} isActive=${this._isActive}]`
	}

	// idåŒ– //
	/**
	 * ã€Œå®ä½“ID/å®ä½“ç±»å‹ã€
	 * * ç”¨äºç¡®å®šä¸åŒç±»å®ç°çš„å®ä½“
	 *   * ğŸ“Œç±»æ„é€ ä¸­çš„ä½“ç°ï¼šæŠ½è±¡ä¼ é€’ï¼Œå…·ä½“å®šå€¼
	 *     * æŠ½è±¡ç±»çš„æ„é€ å‡½æ•°éœ€è¦`id`ä½œä¸ºå‚æ•°å‘ä¸‹ä¼ é€’
	 *     * å…·ä½“ç±»çš„æ„é€ å‡½æ•°ç›´æ¥ä¼ é€’**å›ºå®šå¸¸é‡**
	 * * å’Œã€Œæ–¹å—ã€ä¸åŒï¼Œå¤ç”¨é€»è¾‘ä»£ç è¾ƒå¤šçš„å®ä½“ï¼Œä»ç„¶é‡‡ç”¨ã€Œç±»ç»§æ‰¿ã€çš„ç»“æ„
	 * * ã€Œå®ä½“IDã€åœ¨æ­¤å’Œã€Œå®ä½“ç±»å‹çš„åç§°ã€æ˜¯ä¸€ä¸ªæ„æ€ï¼Œä¸åŒäº`EntityType`å¯¹è±¡
	 */
	public get id(): typeID {
		return this._id
	}

	//============Constructor & Destructor============//
	public constructor(protected readonly _id: typeID /*  = '#undef' */) {
		// æ„é€ æ—¶è‡ªåŠ¨æ¿€æ´»ï¼ˆå¯è¢«è¦†ç›–ï¼‰
		this._isActive = true
	}

	/**
	 * ! é»˜è®¤çš„ææ„è¡Œä¸ºï¼šåœæ­¢æ¿€æ´»
	 * * å½“ç„¶ä¹Ÿæœ‰å…¶å®ƒé€”å¾„ä½¿å…¶ä¸è¢«æ¿€æ´»
	 */
	public destructor(): void {
		this._isActive = false
	}
}
